---
title: "[프로그래머스] 코딩테스트 고득점 Kit – 전력망을 둘로 나누기"
date: 2025-11-25 14:00:00 +0900
layout: post
categories: [공부, Algorithm]
tags: [완전 탐색]
---
## 문제

[Level2: 전력망을 둘로 나누기](https://school.programmers.co.kr/learn/courses/30/lessons/86971)

### 문제 요약

- n개의 송전탑이 전선을 통해 하나의 **트리**로 연결
- 전선 중 **하나를 끊어** 전력망을 **두 개로 분리**해야 함
- 두 전력망의 **송전탑 개수 차이가 최소**가 되도록 전선을 선택
- 전선을 하나 끊었을 때 만들어지는 **두 네트워크의 송전탑 개수 차이(절대값)**를 반환

## 풀이 아이디어

- 그래프(트리)를 인접 리스트로 구성
- **전선을 하나씩 확인하면서** 그 전선을 끊었을 때 두 전력망의 **송전탑 개수 차이** 계산
- 각 전선마다 차이를 구해 최소값을 갱신

## 코드

### 방법 1.

- 모든 전선 `(a, b)`를 하나씩 끊어보면서, `a` 또는 `b`에서 BFS/DFS 실행 → 한쪽 네트워크 크기 계산

```python
from collections import deque

def solution(n, wires):
    answer = float('inf')
    
    graph = [[] for _ in range(n+1)]
    for a, b in wires:
        graph[a].append(b)
        graph[b].append(a)
    
    def search(a, b):
        queue = deque([a])
        visited[a] = True
        net = []
        while queue:
            cur = queue.popleft()
            net.append(cur)
            for i in range(len(graph[cur])):
                next = graph[cur][i]
                if next != b and not visited[next]:
                    queue.append(next)
                    visited[next] = True
        return len(net)
    
    for a, b in wires:
        visited = [False]*(n+1)
        cnt = search(a, b)
        diff = abs(2*cnt-n)
        answer = min(answer, diff)
        
    return answer
```

### 방법 2.

- 전체 트리에 대해 **DFS 한 번만 수행해 각 노드의 서브트리 크기 계산**
- `sub[node]` = 해당 노드를 루트로 하는 서브트리(하위 전력망)의 크기 저장

```python
def solution(n, wires):
    answer = float('inf')
    
    graph = [[] for _ in range(n+1)]
    for a, b in wires:
        graph[a].append(b)
        graph[b].append(a)
    
    visited = [False] * (n+1)
    sub = [0] * (n+1)
    
    def search(node):
        visited[node] = True
        size = 1
        for next in graph[node]:
            if not visited[next]:
                size += search(next)
        sub[node] = size
        return size
        
    search(1)
    
    for a, b in wires:
        child_sub = min(sub[a], sub[b])
        diff = abs(n - 2 * child_sub)
        answer = min(answer, diff)

    return answer
```