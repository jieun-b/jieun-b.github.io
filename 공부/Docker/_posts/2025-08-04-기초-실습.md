---
title: "Docker 기초 실습"
date: 2025-08-04 00:00:00 +0900
layout: post
tags: [Docker]
---
# 1. Docker 설치하기

## OS별 설치 방법

### **Windows / Mac**

- Docker 공식 페이지: [https://www.docker.com/products/docker-desktop](https://www.docker.com/products/docker-desktop)
- 설치 후 Docker Desktop을 실행하면 **로그인이 요구되며**, 이때 Docker Hub 계정을 생성하면 된다.

### **Ubuntu (Linux)**

리눅스(Ubuntu)에서는 아래 명령어를 통해 Docker를 설치할 수 있다.

```bash
sudo apt update
sudo apt install -y docker.io
sudo systemctl start docker
sudo systemctl enable docker
```

설치가 완료되면 다음 명령어로 설치 여부를 확인할 수 있다.

```bash
docker --version
```

출력 예: `Docker version 24.0.2, build ...`

# 2. Python 컨테이너 직접 실행해보기

도커가 잘 설치되었는지 확인한 뒤, 간단한 Python 실행 환경을 만들어보자.

우선 현재 사용자 계정을 Docker 그룹에 추가해 `sudo` 없이 사용할 수 있도록 설정한다.

```python
sudo usermod -aG docker $USER
newgrp docker
```

아래 명령어로 Python 컨테이너를 실행할 수 있다.

```bash
docker run -it python:3.10
```

이 명령은 `python:3.10`이라는 공식 이미지를 도커 허브에서 내려받아 실행한다.

옵션 `-it`은 터미널 상호작용 모드로, 실행 후 아래처럼 Python 인터프리터가 열린다.

```python
>>> print("hello from docker")
```

컨테이너에서 빠져나오려면 `exit()` 명령어를 입력한다.

# 3. Dockerfile을 만들어 Python 코드 실행하기

이번에는 Dockerfile을 직접 작성해 나만의 Python 앱을 컨테이너로 실행해보자.

### 3.1 프로젝트 폴더 준비

```bash
mkdir docker-hello
cd docker-hello
```

### 3.2 `main.py` 파일 작성

```python
# main.py
print("Hello, Docker! This is my first containerized Python app.")
```

### 3.3 `Dockerfile` 작성

```docker
# Dockerfile
FROM python:3.10
COPY main.py .
CMD ["python", "main.py"]
```

이 Dockerfile은 Python 3.10을 기반으로 하고, 현재 폴더의 `main.py` 파일을 컨테이너 내부에 복사한 후 실행하도록 구성되어 있다.

### 3.4 Docker 이미지 만들기

```bash
docker build -t my-python-app .
```

- `-t`: 이미지 이름 지정
- `.`: 현재 디렉토리에 있는 Dockerfile을 사용

### 3.5 이미지 실행

```bash
docker run my-python-app
```

정상적으로 실행되면 아래와 같은 출력이 보인다.

```bash
Hello, Docker! This is my first containerized Python app.
```

# 4. Volume Mount: 코드 실시간 반영

개발 중인 코드를 매번 컨테이너에 복사하지 않고, **로컬 파일을 컨테이너와 연결하여 실시간으로 반영**되게 할 수 있다.

아래 명령어를 실행하면 로컬 디렉토리를 컨테이너 내부의 `/app`으로 마운트한 상태에서 bash shell이 열린다.

```bash
docker run -it -v $(pwd):/app -w /app python:3.10 bash
```

- `v $(pwd):/app`: 현재 로컬 디렉토리를 `/app`으로 연결
- `w /app`: 작업 디렉토리를 `/app`으로 설정
- `python:3.10 bash`: Python 환경을 가진 컨테이너에서 bash 실행

컨테이너 안에서 다음 명령어를 입력하면 로컬의 `main.py`가 실행된다.

```bash
python main.py
```

로컬에서 `main.py`를 수정하면, 컨테이너 안에서도 즉시 반영되어 재실행이 가능하다.