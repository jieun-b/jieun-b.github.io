---
title: "[백준] 16918번: 봄버맨"
date: 2025-10-27 00:00:00 +0900
layout: post
categories: [공부, Algorithm]
tags: [구현, 시뮬레이션]
---
## 문제

[16918**번: 봄버맨**](https://www.acmicpc.net/problem/16918)

### 문제 요약

격자 안에 폭탄(`O`)과 빈칸(`.`)이 존재

봄버맨이 다음과 같이 행동함:

1. **1초**: 아무것도 하지 않음
2. **2초**: 모든 빈칸에 폭탄 설치
3. **3초**: 3초 전에 설치된 폭탄 폭발 → 상하좌우 4칸과 자기 칸이 빈칸(`.`)이 됨
4. 이후 **반복**:
    - 짝수초 → 모든 빈칸에 폭탄 설치
    - 홀수초 → 3초 전에 설치된 폭탄 폭발

즉, 일정 시간 후에는 패턴이 **주기(4초) 단위로 반복**

## 풀이 아이디어

### 1. 짝수초 `(n % 2 == 0)`

- 항상 폭탄으로 가득 참

### 2. 홀수초 `(n % 4 == 3 or 1)`

- `n % 4 == 3` → 초기 상태에서 폭발
- `n % 4 == 1` → 한 번 더 폭발한 상태 (3초 상태의 폭발)

따라서 격자 상태는 4초 주기로 반복되며, `1초 → 3초 → 5초` 패턴이 순환함

## 코드

```python
import sys
input = sys.stdin.readline

r, c, n = map(int, input().split())

first = [list(input().strip()) for _ in range(r)]

dx = [1, 0, -1, 0]
dy = [0, 1, 0, -1]

def explode(grid):
    result = [['O']*c for _ in range(r)]
    for i in range(r):
        for j in range(c):
            if grid[i][j] == 'O':
                result[i][j] = '.'
                for k in range(4):
                    new_i = i+dy[k]
                    new_j = j+dx[k]
                    if 0<=new_i<r and 0<=new_j<c:
                        result[new_i][new_j] = '.'
    return result

if n == 1:
    result = first
elif n % 2 == 0:
    result = [['O']*c for _ in range(r)]
elif n % 4 == 3:
    result = explode(first)
elif n % 4 == 1:
    result = explode(explode(first))

for i in range(r):
    print(''.join(result[i]))
```