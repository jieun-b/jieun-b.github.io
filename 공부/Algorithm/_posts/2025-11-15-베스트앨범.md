---
title: "[프로그래머스] 코딩테스트 고득점 Kit – 베스트앨범"
date: 2025-11-15 00:00:00 +0900
layout: post
tags: [해시]
---
## 문제

[Level3: 베스트앨범](https://school.programmers.co.kr/learn/courses/30/lessons/42579)

### 문제 요약

- 각 노래는 고유 번호와 장르, 재생 횟수 정보를 가짐
- **베스트 앨범** 제작 기준:
    1. 재생 횟수가 많은 장르 순서대로 수록
    2. 장르 내에서 재생 횟수 많은 노래 먼저
    3. 재생 횟수 같으면 고유 번호 낮은 노래 먼저
- 장르별 **최대 2곡**만 선택
- **베스트 앨범 수록곡 고유 번호 순서**를 반환

## 풀이 아이디어

- `musics = defaultdict(list)` → 장르별 `(재생횟수, 인덱스)` 리스트 저장
- `cnt = defaultdict(int)` → 장르별 총 재생 횟수 계산
- `cnt`를 **총 재생 횟수 내림차순**으로 정렬 → 장르 순서 결정
- 각 장르별로 `music_list.sort(key=lambda x: (-재생횟수, 인덱스))` → 상위 2곡 추출

## 코드

```python
from collections import defaultdict

def solution(genres, plays):
    answer = []
    musics = defaultdict(list)
    cnt = defaultdict(int)
    for i in range(len(genres)):
        musics[genres[i]].append([plays[i], i])
        cnt[genres[i]] += plays[i]
    
    cnt = list(cnt.items())
    cnt.sort(key=lambda x: (-x[1], x[0]))
    for genre in cnt:
        music_list = musics[genre[0]]
        if len(musics[genre[0]]) == 1:
            answer.append(music_list[0][1])
        else:
            music_list.sort(key=lambda x: (-x[0], x[1]))
            answer.append(music_list[0][1])
            answer.append(music_list[1][1])
    return answer
```